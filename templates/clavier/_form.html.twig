{{ form_start(form) }}
    
    {{ form_errors(form) }}

    {{ form_row(form.marque) }}
    {{ form_row(form.nom) }}
    {{ form_row(form.prix) }}
    {{ form_row(form.stock) }}
    {{ form_row(form.status) }}
    {{ form_row(form.switch) }}
    {{ form_row(form.language) }}
    {{ form_row(form.description) }}

    <hr>

    <h3>{% trans %}titre_form{% endtrans %}</h3>
    
    <div data-controller="collection"
        data-collection-index-value="{{ form.images|length }}"
        data-collection-prototype-value="{{ form_widget(form.images.vars.prototype)|e('html_attr') }}"
        data-collection-delete-label-value="{{ 'texte_btn_supprimer_img'|trans }}">

        <div class="row" data-collection-target="wrapper">
            {% for imageField in form.images %}
                <div class="col-md-4 image-item mb-3">
                    <div class="card p-3 bg-light">
                        {{ form_errors(imageField) }}
                        {{ form_widget(imageField) }}
                        <button type="button" 
                                class="btn btn-danger btn-sm mt-2" 
                                data-action="collection#remove">
                            {% trans %}texte_btn_supprimer_img{% endtrans %}
                        </button>
                    </div>
                </div>
            {% endfor %}
        </div>

        <button type="button" 
                class="btn btn-outline-primary mb-4" 
                data-action="collection#add">
            {% trans %}texte_btn_ajouter_img{% endtrans %}
        </button>

    </div>

    {% do form.images.setRendered() %}

    <div class="mt-3">
        <button class="btn btn-primary">{{ button_label|default('texte_btn_enregistrer'|trans) }}</button>
    </div>

{{ form_end(form) }}